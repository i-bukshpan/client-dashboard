# ××“×¨×™×š ××§×™×£ ×œ× ×™×”×•×œ ×”××¢×¨×›×ª - Next.js ×œ××¤×ª×—×™ PHP

××“×¨×™×š ×–×” ××™×•×¢×“ ×œ××¤×ª×—×™× ×©××‘×™× ×™× PHP ×•××¢×•× ×™×™× ×™× ×œ×”×‘×™×Ÿ ×•×œ× ×”×œ ××ª ××¢×¨×›×ª Next.js ×©×œ×”× ×‘×¢×¦××.

---

## ×ª×•×›×Ÿ ×¢× ×™×™× ×™×

1. [×”×‘× ×ª Next.js ×‘×”×©×•×•××” ×œ-PHP](#×”×‘× ×ª-nextjs-×‘×”×©×•×•××”-×œ-php)
2. [××‘× ×” ×”×¤×¨×•×™×§×˜](#××‘× ×”-×”×¤×¨×•×™×§×˜)
3. [×”×ª×§× ×” ×•×”×¨×¦×”](#×”×ª×§× ×”-×•×”×¨×¦×”)
4. [×›×™×¦×“ ×”××¢×¨×›×ª ×¢×•×‘×“×ª](#×›×™×¦×“-×”××¢×¨×›×ª-×¢×•×‘×“×ª)
5. [Supabase - ×‘×¡×™×¡ ×”× ×ª×•× ×™×](#supabase---×‘×¡×™×¡-×”× ×ª×•× ×™×)
6. [×¢×¨×™×›×ª ×§×•×“ - ×”××“×¨×™×š ×”××¢×©×™](#×¢×¨×™×›×ª-×§×•×“---×”××“×¨×™×š-×”××¢×©×™)
7. [×”×•×¡×¤×ª ×¤×™×¦'×¨×™× ×—×“×©×™×](#×”×•×¡×¤×ª-×¤×™×¦×¨×™×-×—×“×©×™×)
8. [×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª × ×¤×•×¦×•×ª](#×¤×ª×¨×•×Ÿ-×‘×¢×™×•×ª-× ×¤×•×¦×•×ª)
9. [×¨×©×™××ª ×§×‘×¦×™× ×—×©×•×‘×™×](#×¨×©×™××ª-×§×‘×¦×™×-×—×©×•×‘×™×)

---

## ×”×‘× ×ª Next.js ×‘×”×©×•×•××” ×œ-PHP

### ×”×”×‘×“×œ×™× ×”×¢×™×§×¨×™×™×:

| PHP | Next.js (React) |
|-----|-----------------|
| ×§×•×“ ×¨×¥ ×‘×¦×“ ×”×©×¨×ª ×‘×œ×‘×“ | ×§×•×“ ×™×›×•×œ ×œ×¨×•×¥ ×’× ×‘×¦×“ ×”×œ×§×•×— (×‘×“×¤×“×¤×Ÿ) |
| ×›×œ ×¢××•×“ = ×§×•×‘×¥ PHP × ×¤×¨×“ | ×›×œ ×¢××•×“ = ×§×•××¤×•× × ×˜×” React |
| ×˜×¢×™× ×” ××—×“×© ×©×œ ×“×£ = ×‘×§×©×” ×—×“×©×” ×œ×©×¨×ª | ×˜×¢×™× ×” ×—×œ×§×™×ª - ×¨×§ ×—×œ×§ ××”×“×£ ××ª×¢×“×›×Ÿ |
| `echo` ×œ×”×¦×’×ª HTML | `return` ×¢× JSX (HTML ×‘×ª×•×š JavaScript) |

### ××•× ×—×™× ×—×©×•×‘×™×:

**1. Component (×§×•××¤×•× × ×˜×”)**
- ×–×” ×›××• function ×‘-PHP ×©××—×–×™×¨ HTML
- ××‘×œ ×‘-React, ×”×§×•××¤×•× × ×˜×” ×”×™× function ×©××—×–×™×¨×” JSX

**×“×•×’××” ×‘-PHP:**
```php
function renderCard($name) {
    echo "<div class='card'>$name</div>";
}
```

**×“×•×’××” ×‘-React/Next.js:**
```jsx
function Card({ name }) {
    return <div className="card">{name}</div>;
}
```

**2. State (××¦×‘)**
- ×‘-PHP, ××ª×” ××©×ª××© ×‘-session ××• POST/GET
- ×‘-React, ×™×© `useState` - ××©×ª× ×” ×©××ª×¢×“×›×Ÿ ×•××¢×“×›×Ÿ ××ª ×”×“×£ ××•×˜×•××˜×™×ª

**×“×•×’××”:**
```jsx
const [count, setCount] = useState(0);
// count = ×”××©×ª× ×”
// setCount = ×”×¤×•× ×§×¦×™×” ×©××¢×“×›× ×ª ××•×ª×•
// ×›××©×¨ setCount ××©×ª× ×”, ×”×“×£ ××ª×¢×“×›×Ÿ ××•×˜×•××˜×™×ª!
```

**3. 'use client' vs 'use server'**
- `'use client'` = ×”×§×•×“ ×¨×¥ ×‘×“×¤×“×¤×Ÿ (×›××• JavaScript ×¨×’×™×œ)
- `'use server'` = ×”×§×•×“ ×¨×¥ ×¢×œ ×”×©×¨×ª (×›××• PHP)

---

## ××‘× ×” ×”×¤×¨×•×™×§×˜

```
client-dashboard/
â”‚
â”œâ”€â”€ app/                          # ×”×ª×™×§×™×™×” ×”××¨×›×–×™×ª - ×›×œ ×”×“×¤×™× × ××¦××™× ×›××Ÿ
â”‚   â”œâ”€â”€ page.tsx                  # ×”×“×£ ×”×¨××©×™ (×›××• index.php)
â”‚   â”œâ”€â”€ layout.tsx                # ×”×ª×‘× ×™×ª ×”×›×œ×œ×™×ª (×›××• header.php + footer.php)
â”‚   â”œâ”€â”€ globals.css               # ×¡×’× ×•× ×•×ª ×’×œ×•×‘×œ×™×™×
â”‚   â”‚
â”‚   â”œâ”€â”€ clients/                  # ×ª×™×§×™×™×ª ×œ×§×•×—×•×ª
â”‚   â”‚   â””â”€â”€ [id]/                 # [id] = ×¤×¨××˜×¨ ×“×™× ××™ (×›××• ?id=123)
â”‚   â”‚       â””â”€â”€ page.tsx          # ×“×£ ×¤×¨×˜×™ ×œ×§×•×—
â”‚   â”‚
â”‚   â”œâ”€â”€ calendar/
â”‚   â”‚   â””â”€â”€ page.tsx              # ×“×£ ×œ×•×— ×©× ×”
â”‚   â”‚
â”‚   â”œâ”€â”€ goals/
â”‚   â”‚   â””â”€â”€ page.tsx              # ×“×£ ×™×¢×“×™×
â”‚   â”‚
â”‚   â””â”€â”€ help/
â”‚       â””â”€â”€ page.tsx              # ×“×£ ×¢×–×¨×” (×›××Ÿ ××ª×” × ××¦× ×¢×›×©×™×•)
â”‚
â”œâ”€â”€ components/                   # ×§×•××¤×•× × ×˜×•×ª ×œ×©×™××•×© ×—×•×–×¨
â”‚   â”œâ”€â”€ ui/                       # ×§×•××¤×•× × ×˜×•×ª UI ×‘×¡×™×¡×™×•×ª (×›×¤×ª×•×¨×™×, ×˜×•×¤×¡×™×)
â”‚   â”œâ”€â”€ sidebar.tsx               # ×ª×¤×¨×™×˜ ×¦×“
â”‚   â”œâ”€â”€ client-card.tsx           # ×›×¨×˜×™×¡ ×œ×§×•×—
â”‚   â”œâ”€â”€ add-client-dialog.tsx     # ×—×œ×•×Ÿ ×œ×”×•×¡×¤×ª ×œ×§×•×—
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ lib/                          # ×¡×¤×¨×™×•×ª ×•×¤×•× ×§×¦×™×•×ª ×¢×–×¨
â”‚   â”œâ”€â”€ supabase.ts               # ×—×™×‘×•×¨ ×œ-Supabase (×”×‘×¡×™×¡ × ×ª×•× ×™×)
â”‚   â”œâ”€â”€ actions/                  # Server Actions (×›××• API endpoints)
â”‚   â”‚   â”œâ”€â”€ clients.ts            # ×¤×¢×•×œ×•×ª ×¢×œ ×œ×§×•×—×•×ª
â”‚   â”‚   â”œâ”€â”€ schema.ts             # ×¤×¢×•×œ×•×ª ×¢×œ ×¡×›××•×ª
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ utils.ts                  # ×¤×•× ×§×¦×™×•×ª ×¢×–×¨
â”‚   â””â”€â”€ ...
â”‚
â”œâ”€â”€ package.json                  # ×¨×©×™××ª ×¡×¤×¨×™×•×ª (×›××• composer.json ×‘-PHP)
â”œâ”€â”€ tsconfig.json                 # ×”×’×“×¨×•×ª TypeScript
â””â”€â”€ tailwind.config.ts            # ×”×’×“×¨×•×ª ×¢×™×¦×•×‘ (Tailwind CSS)
```

### ××™×š Next.js ×™×•×¦×¨ URLs:

| ××™×§×•× ×”×§×•×‘×¥ | ×”-URL ×©× ×•×¦×¨ |
|-------------|-------------|
| `app/page.tsx` | `/` (×“×£ ×”×‘×™×ª) |
| `app/help/page.tsx` | `/help` |
| `app/clients/[id]/page.tsx` | `/clients/123` (123 ×”×•× ×”×¢×¨×š ×©×œ [id]) |

---

## ×”×ª×§× ×” ×•×”×¨×¦×”

### 1. ×”×ª×§× ×ª Node.js
- ×”×•×¨×“ ×•×”×ª×§×Ÿ Node.js ×- https://nodejs.org
- ×’×¨×¡×” 18 ×•××¢×œ×”

### 2. ×”×ª×§× ×ª ×ª×œ×•×™×•×ª
```bash
npm install
```
×–×” ×›××• `composer install` ×‘-PHP - ××ª×§×™×Ÿ ××ª ×›×œ ×”×¡×¤×¨×™×•×ª

### 3. ×”×’×“×¨×ª ××©×ª× ×™ ×¡×‘×™×‘×”
×¦×•×¨ ×§×•×‘×¥ `.env.local` ×‘×ª×™×§×™×™×ª ×”×©×•×¨×©:

```env
NEXT_PUBLIC_SUPABASE_URL=your_supabase_url_here
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_supabase_key_here
```

**××™×¤×” ×œ××¦×•× ××ª ×”×¢×¨×›×™×:**
- ×”×ª×—×‘×¨ ×œ-Supabase: https://supabase.com
- ×‘×—×¨ ××ª ×”×¤×¨×•×™×§×˜ ×©×œ×š
- ×œ×š ×œ-Settings â†’ API
- ×”×¢×ª×§ ××ª `URL` ×•××ª `anon public key`

### 4. ×”×¨×¦×ª ×©×¨×ª ×”×¤×™×ª×•×—
```bash
npm run dev
```
×”××ª×¨ ×™×¢×œ×” ×¢×œ: http://localhost:3000

### 5. ×‘× ×™×™×ª ×’×¨×¡×ª ×™×™×¦×•×¨
```bash
npm run build
npm start
```

---

## ×›×™×¦×“ ×”××¢×¨×›×ª ×¢×•×‘×“×ª

### ×–×¨×™××ª × ×ª×•× ×™× ×‘×¡×™×¡×™×ª:

```
×“×£ (page.tsx)
    â†“
×§×•××¤×•× × ×˜×” (component)
    â†“
Server Action / Supabase Query
    â†“
Supabase Database
    â†“
×”×—×–×¨×ª × ×ª×•× ×™×
    â†“
×¢×“×›×•×Ÿ ×”×“×£
```

### ×“×•×’××” ××¢×©×™×ª - ××™×š ×”×“×£ ×”×¨××©×™ ×˜×•×¢×Ÿ ×œ×§×•×—×•×ª:

**1. ×‘×§×•×‘×¥ `app/page.tsx`:**
```jsx
'use client'  // ×”×§×•×“ ×¨×¥ ×‘×“×¤×“×¤×Ÿ

import { useState, useEffect } from 'react'
import { supabase } from '@/lib/supabase'

export default function Dashboard() {
  const [clients, setClients] = useState([])  // ××¢×¨×š ×œ×§×•×—×•×ª
  
  // useEffect = ×¨×¥ ××—×¨×™ ×©×”×“×£ × ×˜×¢×Ÿ (×›××• $(document).ready ×‘-jQuery)
  useEffect(() => {
    loadClients()
  }, [])
  
  async function loadClients() {
    // ×©××™×œ×ª×” ×œ-Supabase (×›××• SELECT * FROM clients ×‘-MySQL)
    const { data, error } = await supabase
      .from('clients')
      .select('*')
      .order('created_at', { ascending: false })
    
    if (data) {
      setClients(data)  // ×¢×“×›×•×Ÿ ×”×¨×©×™××” - ×”×“×£ ××ª×¢×“×›×Ÿ ××•×˜×•××˜×™×ª!
    }
  }
  
  return (
    <div>
      {clients.map(client => (
        <div key={client.id}>{client.name}</div>
      ))}
    </div>
  )
}
```

### ××™×š ×–×” ×¢×•×‘×“:
1. ×”×“×£ × ×˜×¢×Ÿ
2. `useEffect` ×¨×¥ ×•××¤×¢×™×œ ××ª `loadClients()`
3. `loadClients()` ×©×•×œ×— ×©××™×œ×ª×” ×œ-Supabase
4. ×›××©×¨ ×”× ×ª×•× ×™× ×—×•×–×¨×™×, `setClients(data)` ××¢×“×›×Ÿ ××ª ×”×¨×©×™××”
5. React ××•×˜×•××˜×™×ª ××¢×“×›×Ÿ ××ª ×”×“×£ ×¢× ×”× ×ª×•× ×™× ×”×—×“×©×™×

---

## Supabase - ×‘×¡×™×¡ ×”× ×ª×•× ×™×

### ××” ×–×” Supabase?
- ×–×” ×›××• MySQL + API + Authentication ×‘×™×—×“
- ×‘××§×•× ×œ×›×ª×•×‘ SQL ×™×©×™×¨×•×ª, ××ª×” ××©×ª××© ×‘-JavaScript API
- ×”×›×œ ×“×¨×š HTTPS (××™×Ÿ ×¦×•×¨×š ×‘-PDO ××• mysqli)

### ×”×©×•×•××” ×œ-MySQL:

| MySQL (PHP) | Supabase (Next.js) |
|-------------|-------------------|
| `SELECT * FROM clients` | `supabase.from('clients').select('*')` |
| `INSERT INTO clients (name) VALUES ('John')` | `supabase.from('clients').insert([{name: 'John'}])` |
| `UPDATE clients SET name='Jane' WHERE id=1` | `supabase.from('clients').update({name: 'Jane'}).eq('id', 1)` |
| `DELETE FROM clients WHERE id=1` | `supabase.from('clients').delete().eq('id', 1)` |

### ×“×•×’×××•×ª ×©×™××•×©:

**1. ×§×¨×™××ª × ×ª×•× ×™×:**
```jsx
const { data, error } = await supabase
  .from('clients')
  .select('*')
  .eq('status', '×¤×¢×™×œ')  // WHERE status = '×¤×¢×™×œ'
  .order('created_at', { ascending: false })
  .limit(10)

if (error) {
  console.error('×©×’×™××”:', error)
} else {
  console.log('×œ×§×•×—×•×ª:', data)
}
```

**2. ×”×•×¡×¤×ª × ×ª×•× ×™×:**
```jsx
const { data, error } = await supabase
  .from('clients')
  .insert([{
    name: '×™×•×¡×™ ×›×”×Ÿ',
    email: 'yossi@example.com',
    phone: '050-1234567',
    status: '×¤×¢×™×œ'
  }])
  .select()  // ××—×–×™×¨ ××ª ×”×¨×©×•××” ×©× ×•×¡×¤×”

if (error) {
  alert('×©×’×™××”: ' + error.message)
} else {
  console.log('×œ×§×•×— × ×•×¡×£:', data)
}
```

**3. ×¢×“×›×•×Ÿ × ×ª×•× ×™×:**
```jsx
const { error } = await supabase
  .from('clients')
  .update({ 
    name: '×™×•×¡×™ ×›×”×Ÿ - ×¢×•×“×›×Ÿ',
    status: '×œ×™×“'
  })
  .eq('id', '123')  // WHERE id = '123'

if (error) {
  alert('×©×’×™××” ×‘×¢×“×›×•×Ÿ')
}
```

**4. ××—×™×§×ª × ×ª×•× ×™×:**
```jsx
const { error } = await supabase
  .from('clients')
  .delete()
  .eq('id', '123')

if (error) {
  alert('×©×’×™××” ×‘××—×™×§×”')
}
```

**5. ×©××™×œ×ª×•×ª ××•×¨×›×‘×•×ª ×™×•×ª×¨:**
```jsx
// JOIN (×§×™×©×•×¨ ×‘×™×Ÿ ×˜×‘×œ××•×ª)
const { data } = await supabase
  .from('payments')
  .select(`
    *,
    clients (
      name,
      email
    )
  `)
  .eq('client_id', '123')

// ×¤×™×œ×˜×¨×™× ××¨×•×‘×™×
const { data } = await supabase
  .from('clients')
  .select('*')
  .eq('status', '×¤×¢×™×œ')      // WHERE status = '×¤×¢×™×œ'
  .gte('created_at', '2024-01-01')  // AND created_at >= '2024-01-01'
  .or('email.not.null,phone.not.null')  // AND (email IS NOT NULL OR phone IS NOT NULL)
```

### ×˜×‘×œ××•×ª ×‘××¢×¨×›×ª:

×”×˜×‘×œ××•×ª ×”×¢×™×§×¨×™×•×ª (×œ×¤×™ ×”×§×•×“):

1. **clients** - ×œ×§×•×—×•×ª
   - id, name, email, phone, status, internal_notes, share_token, created_at, updated_at

2. **payments** - ×ª×©×œ×•××™×
   - id, client_id, amount, payment_date, payment_status, payment_method, description, is_recurring, frequency, next_payment_date

3. **reminders** - ×ª×–×›×•×¨×•×ª
   - id, client_id, title, description, due_date, priority, is_completed, reminder_type

4. **notes** - ×”×¢×¨×•×ª
   - id, client_id, content, color, created_at, updated_at

5. **client_credentials** - ×¤×¨×˜×™ ×’×™×©×” (××•×¦×¤× ×™×)
   - id, client_id, service_name, username, password, website_url

6. **client_schemas** - ×¡×›××•×ª ×“×™× ××™×•×ª
   - id, client_id, module_name, branch_name, columns (JSON)

7. **client_data_records** - ×¨×©×•××•×ª × ×ª×•× ×™×
   - id, client_id, module_type, entry_date, data (JSON), created_at, updated_at

8. **goals** - ×™×¢×“×™×
   - id, goal_type, target_value, target_date, current_value, status, title, description

9. **audit_log** - ×™×•××Ÿ ×¤×¢×•×œ×•×ª
   - id, action_type, entity_type, entity_id, user_id, description, metadata, created_at

---

## ×¢×¨×™×›×ª ×§×•×“ - ×”××“×¨×™×š ×”××¢×©×™

### 1. ×©×™× ×•×™ ×˜×§×¡×˜ ×‘×“×£

**×“×•×’××”: ×©×™× ×•×™ ×›×•×ª×¨×ª ×‘×“×£ ×”×¨××©×™**

×¤×ª×—: `app/page.tsx`

××¦×:
```jsx
<h1>×›×•×ª×¨×ª ×§×™×™××ª</h1>
```

×©× ×” ×œ:
```jsx
<h1>×”×›×•×ª×¨×ª ×”×—×“×©×” ×©×œ×™</h1>
```

×©××•×¨ ×•×‘×“×•×§ ×‘×“×¤×“×¤×Ÿ - ×”×©×™× ×•×™ ×™×•×¤×™×¢ ××™×“!

### 2. ×”×•×¡×¤×ª ×©×“×” ×—×“×© ×œ×˜×•×¤×¡

**×“×•×’××”: ×”×•×¡×¤×ª ×©×“×” "×›×ª×•×‘×ª" ×œ×˜×•×¤×¡ ×”×•×¡×¤×ª ×œ×§×•×—**

**×©×œ×‘ 1:** ×¤×ª×— `components/add-client-dialog.tsx`

**×©×œ×‘ 2:** ××¦× ××ª ×”-state (×”××©×ª× ×™×):
```jsx
const [name, setName] = useState('')
const [email, setEmail] = useState('')
```

**×©×œ×‘ 3:** ×”×•×¡×£ ××©×ª× ×” ×—×“×©:
```jsx
const [address, setAddress] = useState('')
```

**×©×œ×‘ 4:** ×”×•×¡×£ ×©×“×” ×‘×˜×•×¤×¡ (×‘×ª×•×š ×”-return):
```jsx
<Input
  placeholder="×›×ª×•×‘×ª"
  value={address}
  onChange={(e) => setAddress(e.target.value)}
/>
```

**×©×œ×‘ 5:** ×¢×“×›×Ÿ ××ª ×”×¤×•× ×§×¦×™×” ×©×©×•×œ×—×ª ×œ×©×¨×ª (×‘×“×¨×š ×›×œ×œ handleSubmit ××• handleAdd):
```jsx
const { data, error } = await supabase
  .from('clients')
  .insert([{
    name,
    email,
    phone,
    address: address  // ×”×©×“×” ×”×—×“×©
  }])
```

**×©×œ×‘ 6:** ×¢×“×›×Ÿ ××ª ×”×˜×‘×œ×” ×‘-Supabase:
- ×œ×š ×œ-Supabase Dashboard
- Table Editor â†’ clients
- ×”×•×¡×£ ×¢××•×“×” ×—×“×©×”: `address` ××¡×•×’ `text`

### 3. ×©×™× ×•×™ ×¡×’× ×•×Ÿ (CSS)

×”××¢×¨×›×ª ××©×ª××©×ª ×‘-Tailwind CSS - ×–×” ××•××¨ ×©××™×Ÿ ×§×‘×¦×™ CSS × ×¤×¨×“×™×, ×”×›×œ ×“×¨×š classes.

**×“×•×’××”: ×©×™× ×•×™ ×¦×‘×¢ ×›×¤×ª×•×¨**

××¦×:
```jsx
<Button className="bg-blue-500">
  ×œ×—×¥ ×›××Ÿ
</Button>
```

×©× ×” ×œ:
```jsx
<Button className="bg-red-500">
  ×œ×—×¥ ×›××Ÿ
</Button>
```

**Tailwind Classes × ×¤×•×¦×™×:**
- `bg-blue-500` = ×¨×§×¢ ×›×—×•×œ
- `text-white` = ×˜×§×¡×˜ ×œ×‘×Ÿ
- `p-4` = padding ×©×œ 16px
- `m-2` = margin ×©×œ 8px
- `rounded-lg` = ×¤×™× ×•×ª ××¢×•×’×œ×•×ª
- `hover:bg-blue-600` = ×¨×§×¢ ×›×”×” ×™×•×ª×¨ ×‘×¢×ª hover

### 4. ×”×•×¡×¤×ª ×¢××•×“ ×—×“×©

**×©×œ×‘ 1:** ×¦×•×¨ ×ª×™×§×™×™×” ×—×“×©×” ×‘-`app/`

×œ×“×•×’××”, ×œ×™×¦×™×¨×ª `/products`:
```bash
mkdir app/products
```

**×©×œ×‘ 2:** ×¦×•×¨ ×§×•×‘×¥ `page.tsx` ×‘×ª×™×§×™×™×”:
```tsx
export default function ProductsPage() {
  return (
    <div className="p-8">
      <h1 className="text-3xl font-bold mb-4">××•×¦×¨×™×</h1>
      <p>×ª×•×›×Ÿ ×”×“×£ ×›××Ÿ</p>
    </div>
  )
}
```

**×©×œ×‘ 3:** ×”×•×¡×£ ×œ×ª×¤×¨×™×˜ ×”×¦×“ (`components/sidebar.tsx`):
```jsx
const navigation = [
  // ... ×§×™×©×•×¨×™× ×§×™×™××™×
  { name: '××•×¦×¨×™×', href: '/products', icon: ShoppingBag },
]
```

### 5. ×™×¦×™×¨×ª Server Action (API endpoint)

Server Actions ×–×” ×›××• API endpoints ×‘-PHP.

**×“×•×’××”: ×™×¦×™×¨×ª ×¤×•× ×§×¦×™×” ×œ××—×™×§×ª ×œ×§×•×—**

×¦×•×¨/×¢×¨×•×š: `lib/actions/clients.ts`

```tsx
'use server'  // ×—×©×•×‘! ×–×” ××•××¨ ×©×”×§×•×“ ×¨×¥ ×¢×œ ×”×©×¨×ª

import { supabase } from '@/lib/supabase'

export async function deleteClient(clientId: string) {
  try {
    const { error } = await supabase
      .from('clients')
      .delete()
      .eq('id', clientId)
    
    if (error) {
      return { success: false, error: error.message }
    }
    
    return { success: true }
  } catch (error) {
    return { success: false, error: '×©×’×™××” ×œ× ×¦×¤×•×™×”' }
  }
}
```

**×©×™××•×© ×‘-Client Component:**
```tsx
'use client'

import { deleteClient } from '@/lib/actions/clients'

async function handleDelete(id: string) {
  const result = await deleteClient(id)
  if (result.success) {
    alert('×”×œ×§×•×— × ××—×§ ×‘×”×¦×œ×—×”')
  } else {
    alert('×©×’×™××”: ' + result.error)
  }
}
```

---

## ×”×•×¡×¤×ª ×¤×™×¦'×¨×™× ×—×“×©×™×

### ×ª×•×›× ×™×ª ×¢×‘×•×“×” ×›×œ×œ×™×ª:

1. **×ª×›× ×•×Ÿ**
   - ××” ×”×¤×™×¦'×¨ ×¦×¨×™×š ×œ×¢×©×•×ª?
   - ××™×–×” ×˜×‘×œ××•×ª ×‘-Supabase × ×“×¨×©×•×ª?
   - ××™×–×” ×“×¤×™×/×§×•××¤×•× × ×˜×•×ª ×¦×¨×™×š?

2. **×‘×¡×™×¡ × ×ª×•× ×™×**
   - ×¦×•×¨/×¢×“×›×Ÿ ×˜×‘×œ××•×ª ×‘-Supabase
   - ×‘×“×•×§ ××ª ×”-relationships

3. **Server Actions**
   - ×¦×•×¨ ×¤×•× ×§×¦×™×•×ª ×‘-`lib/actions/`
   - ×–×” ×”-"×œ×•×’×™×§×” ×”×¢×¡×§×™×ª"

4. **UI Components**
   - ×¦×•×¨ ×§×•××¤×•× × ×˜×•×ª ×‘-`components/`
   - ××• ×¢×¨×•×š ×§×•××¤×•× × ×˜×•×ª ×§×™×™××•×ª

5. **Pages**
   - ×”×•×¡×£/×¢×¨×•×š ×“×¤×™× ×‘-`app/`
   - ×§×©×¨ ×‘×™×Ÿ ×”×›×œ ×™×—×“

6. **×‘×“×™×§×”**
   - ×‘×“×•×§ ×©×”×›×œ ×¢×•×‘×“
   - ×ª×§×Ÿ ×‘××’×™×

### ×“×•×’××” ××œ××”: ×”×•×¡×¤×ª ××¢×¨×›×ª ×”×¢×¨×•×ª

**×©×œ×‘ 1: ×‘×“×•×§ ×× ×”×˜×‘×œ×” ×§×™×™××ª**
- ×œ×š ×œ-Supabase â†’ Table Editor
- ×× ××™×Ÿ ×˜×‘×œ×ª `comments`, ×¦×•×¨ ××•×ª×”:
  - id (uuid, primary key)
  - client_id (uuid, foreign key â†’ clients.id)
  - content (text)
  - author (text)
  - created_at (timestamp)

**×©×œ×‘ 2: ×¦×•×¨ Server Action**
×¦×•×¨ `lib/actions/comments.ts`:
```tsx
'use server'

import { supabase } from '@/lib/supabase'

export async function getComments(clientId: string) {
  const { data, error } = await supabase
    .from('comments')
    .select('*')
    .eq('client_id', clientId)
    .order('created_at', { ascending: false })
  
  if (error) throw error
  return data
}

export async function addComment(clientId: string, content: string, author: string) {
  const { data, error } = await supabase
    .from('comments')
    .insert([{ client_id: clientId, content, author }])
    .select()
    .single()
  
  if (error) throw error
  return data
}
```

**×©×œ×‘ 3: ×¦×•×¨ ×§×•××¤×•× × ×˜×”**
×¦×•×¨ `components/comments.tsx`:
```tsx
'use client'

import { useState, useEffect } from 'react'
import { getComments, addComment } from '@/lib/actions/comments'

export function Comments({ clientId }: { clientId: string }) {
  const [comments, setComments] = useState([])
  const [content, setContent] = useState('')
  const [author, setAuthor] = useState('')
  
  useEffect(() => {
    loadComments()
  }, [clientId])
  
  async function loadComments() {
    const data = await getComments(clientId)
    setComments(data)
  }
  
  async function handleSubmit() {
    await addComment(clientId, content, author)
    setContent('')
    setAuthor('')
    loadComments()  // ×¨×¢× ×•×Ÿ ×”×¨×©×™××”
  }
  
  return (
    <div>
      <h3>×”×¢×¨×•×ª</h3>
      {comments.map(comment => (
        <div key={comment.id}>
          <strong>{comment.author}:</strong> {comment.content}
        </div>
      ))}
      <input 
        value={author} 
        onChange={(e) => setAuthor(e.target.value)}
        placeholder="×©×"
      />
      <textarea 
        value={content}
        onChange={(e) => setContent(e.target.value)}
        placeholder="×ª×•×›×Ÿ"
      />
      <button onClick={handleSubmit}>×”×•×¡×£ ×”×¢×¨×”</button>
    </div>
  )
}
```

**×©×œ×‘ 4: ×”×•×¡×£ ×œ×“×£ ×”×œ×§×•×—**
×¤×ª×— `app/clients/[id]/page.tsx`:
```tsx
import { Comments } from '@/components/comments'

// ×‘×ª×•×š ×”×§×•××¤×•× × ×˜×”:
<Comments clientId={client.id} />
```

---

## ×¤×ª×¨×•×Ÿ ×‘×¢×™×•×ª × ×¤×•×¦×•×ª

### 1. "Module not found" ××• ×©×’×™××ª import

**×”×‘×¢×™×”:** ×”×§×•×‘×¥ ×œ× ××•×¦× ××•×“×•×œ
```bash
Error: Cannot find module '@/components/xxx'
```

**×¤×ª×¨×•×Ÿ:**
- ×•×•×“× ×©×”× ×ª×™×‘ × ×›×•×Ÿ (× ×ª×™×‘×™× ×©××ª×—×™×œ×™× ×‘-`@/` ××ª×™×™×—×¡×™× ×œ×ª×™×§×™×™×ª ×”×©×•×¨×©)
- ×‘×“×•×§ ×©××™×•×ª ×©× ×”×§×•×‘×¥ × ×›×•×Ÿ (case-sensitive!)
- ×”×¤×¢×œ ××—×“×© ××ª ×©×¨×ª ×”×¤×™×ª×•×—: `npm run dev`

### 2. ×©×’×™××ª Supabase

**×”×‘×¢×™×”:** "Failed to fetch" ××• ×©×’×™××ª ×—×™×‘×•×¨

**×¤×ª×¨×•×Ÿ:**
- ×‘×“×•×§ ×©-`.env.local` ×§×™×™× ×•××›×™×œ ××ª ×”×¢×¨×›×™× ×”× ×›×•× ×™×
- ×•×•×“× ×©×”-URL ×•×”-key × ×›×•× ×™×
- ×‘×“×•×§ ×©×”×˜×‘×œ×” ×§×™×™××ª ×‘-Supabase
- ×‘×“×•×§ ××ª ×”×¨×©××•×ª ×”-Row Level Security ×‘-Supabase

### 3. ×”×“×£ ×œ× ××ª×¢×“×›×Ÿ

**×”×‘×¢×™×”:** ×¢×¨×›×ª×™ ×§×•×“ ××‘×œ ×œ× ×¨×•××” ×©×™× ×•×™

**×¤×ª×¨×•×Ÿ:**
- ×¨×¢× ×Ÿ ××ª ×”×“×£ (F5)
- ×‘×“×•×§ ××ª ×”×§×•× ×¡×•×œ ×‘×“×¤×“×¤×Ÿ (F12) ×œ×©×’×™××•×ª
- ×•×•×“× ×©×©××¨×ª ××ª ×”×§×•×‘×¥
- × ×¡×” ×œ×”×¤×¢×™×œ ××—×“×© ××ª ×”×©×¨×ª (`Ctrl+C` ×•××– `npm run dev`)

### 4. ×©×’×™××ª TypeScript

**×”×‘×¢×™×”:** ×©×’×™××•×ª TypeScript ×‘×§×•× ×¡×•×œ

**×¤×ª×¨×•×Ÿ:**
- TypeScript ×–×” ××¢×¨×›×ª ×‘×“×™×§×ª ×˜×™×¤×•×¡×™×
- ×× ×™×© ×©×’×™××”, ×‘×“×¨×š ×›×œ×œ ×”×™× ×ª×¦×‘×™×¢ ×¢×œ ×”×‘×¢×™×”
- ×× ××ª×” ×œ× ×¨×•×¦×” ×œ×”×ª×¢×¡×§ ×¢× types, ×ª×•×›×œ ×œ×”×•×¡×™×£ `// @ts-ignore` ××¢×œ ×”×©×•×¨×”

### 5. ×‘×¢×™×•×ª ×¢× RTL (×¢×‘×¨×™×ª)

**×”×‘×¢×™×”:** ×”×˜×§×¡×˜ ×œ× ××™×•×©×¨ × ×›×•×Ÿ

**×¤×ª×¨×•×Ÿ:**
- ×”×•×¡×£ `dir="rtl"` ×œ-div ×”×¨××©×™:
```jsx
<div dir="rtl">
  {/* ×ª×•×›×Ÿ */}
</div>
```

### 6. ×©×’×™××ª build

**×”×‘×¢×™×”:** `npm run build` × ×›×©×œ

**×¤×ª×¨×•×Ÿ:**
- ×‘×“×•×§ ××ª ×”×©×’×™××•×ª ×‘×§×•× ×¡×•×œ
- ×‘×“×¨×š ×›×œ×œ ×–×” ××•××¨ ×©×™×© ×©×’×™××ª syntax ××• import ×œ× × ×›×•×Ÿ
- ×ª×™×§×Ÿ ××ª ×”×©×’×™××•×ª ×•× ×¡×” ×©×•×‘

---

## ×¨×©×™××ª ×§×‘×¦×™× ×—×©×•×‘×™×

### ×§×‘×¦×™× ×œ×¢×¨×™×›×” ×ª×›×•×¤×”:

1. **`app/page.tsx`** - ×”×“×£ ×”×¨××©×™ (×œ×•×— ×‘×§×¨×”)
2. **`app/clients/[id]/page.tsx`** - ×“×£ ×¤×¨×˜×™ ×œ×§×•×—
3. **`components/sidebar.tsx`** - ×ª×¤×¨×™×˜ × ×™×•×•×˜
4. **`components/add-client-dialog.tsx`** - ×—×œ×•×Ÿ ×”×•×¡×¤×ª ×œ×§×•×—
5. **`components/edit-client-dialog.tsx`** - ×—×œ×•×Ÿ ×¢×¨×™×›×ª ×œ×§×•×—

### ×§×‘×¦×™× ×œ×œ×•×’×™×§×” ×¢×¡×§×™×ª:

1. **`lib/actions/clients.ts`** - ×¤×¢×•×œ×•×ª ×¢×œ ×œ×§×•×—×•×ª
2. **`lib/actions/schema.ts`** - × ×™×”×•×œ ×¡×›××•×ª ×“×™× ××™×•×ª
3. **`lib/actions/data-records.ts`** - × ×™×”×•×œ ×¨×©×•××•×ª × ×ª×•× ×™×
4. **`lib/actions/payments.ts`** - × ×™×”×•×œ ×ª×©×œ×•××™×

### ×§×‘×¦×™× ×œ×”×’×“×¨×•×ª:

1. **`package.json`** - ×¨×©×™××ª ×¡×¤×¨×™×•×ª
2. **`tailwind.config.ts`** - ×”×’×“×¨×•×ª ×¢×™×¦×•×‘
3. **`.env.local`** - ××©×ª× ×™ ×¡×‘×™×‘×” (×œ× × ×©××¨ ×‘-git!)

### ×§×‘×¦×™× ×œ×§×¨×™××” ×‘×œ×‘×“ (×‘×“×¨×š ×›×œ×œ):

1. **`lib/supabase.ts`** - ×”×’×“×¨×•×ª ×—×™×‘×•×¨ ×œ-Supabase
2. **`app/layout.tsx`** - ×ª×‘× ×™×ª ×›×œ×œ×™×ª (×¢×¨×™×›×” ×¨×§ ×× ×¦×¨×™×š)

---

## ×˜×™×¤×™× ×•×˜×¨×™×§×™×

### 1. ×©×™××•×© ×‘-Console.log ×œ×“×™×‘×•×’

```jsx
console.log('×¢×¨×š ×”××©×ª× ×”:', variableName)
```

×œ×¦×¤×™×™×”: ×¤×ª×— Developer Tools (F12) â†’ Console

### 2. React DevTools

×”×ª×§×Ÿ ××ª ×”×ª×•×¡×£ React DevTools ×œ×“×¤×“×¤×Ÿ:
- Chrome: https://chrome.google.com/webstore
- Firefox: https://addons.mozilla.org

×–×” ×××¤×©×¨ ×œ×¨××•×ª ××ª ×”-state ×©×œ ×›×œ ×§×•××¤×•× × ×˜×”

### 3. Hot Reload

Next.js ×ª×•××š ×‘-Hot Reload - ×©×™× ×•×™×™× ×‘×§×•×“ ××•×¤×™×¢×™× ××™×“ ×‘×“×¤×“×¤×Ÿ!
××‘×œ ×œ×¤×¢××™× ×¦×¨×™×š ×¨×¢× ×•×Ÿ ×™×“× ×™.

### 4. Git - ×’×¨×¡××•×ª

×× ××ª×” ××©×ª××© ×‘-Git:
```bash
git status          # ×¨××” ×©×™× ×•×™×™×
git diff            # ×¨××” ××” ×”×©×ª× ×”
git checkout .      # ×‘×˜×œ ×©×™× ×•×™×™× (×–×”×™×¨×•×ª!)
```

### 5. ×’×™×‘×•×™×™×

- ×’×‘×” ××ª ×§×•×‘×¥ `.env.local` (×”×•× ×œ× × ×©××¨ ×‘-git)
- ×’×‘×” ××ª ×”××‘× ×” ×©×œ Supabase (Table Editor â†’ Export)
- ×’×‘×” ××ª ×”×§×•×“ (Git)

---

## ××©××‘×™× × ×•×¡×¤×™×

### ×ª×™×¢×•×“ ×¨×©××™:
- **Next.js**: https://nextjs.org/docs
- **React**: https://react.dev
- **Supabase**: https://supabase.com/docs
- **Tailwind CSS**: https://tailwindcss.com/docs

### ×›×œ×™× ×©×™××•×©×™×™×:
- **Supabase Dashboard**: https://supabase.com/dashboard
- **TypeScript Handbook**: https://www.typescriptlang.org/docs/

---

## ×¡×™×›×•×

**×”× ×§×•×“×•×ª ×”×—×©×•×‘×•×ª ×‘×™×•×ª×¨:**

1. âœ… Next.js = React + Server
2. âœ… Components = Functions ×©××—×–×™×¨×•×ª JSX
3. âœ… State = ××©×ª× ×™× ×©××ª×¢×“×›× ×™× ××•×˜×•××˜×™×ª
4. âœ… Supabase = Database + API
5. âœ… 'use client' = ×§×•×“ ×‘×“×¤×“×¤×Ÿ, 'use server' = ×§×•×“ ×¢×œ ×”×©×¨×ª
6. âœ… Hot Reload = ×©×™× ×•×™×™× ××•×¤×™×¢×™× ××™×“
7. âœ… Tailwind = CSS ×“×¨×š classes

**×¢×›×©×™×• ××ª×” ×™×›×•×œ:**
- âœ… ×œ×¢×¨×•×š ×˜×§×¡×˜×™× ×•×¢×™×¦×•×‘×™×
- âœ… ×œ×”×•×¡×™×£ ×©×“×•×ª ×œ×˜×•×¤×¡×™×
- âœ… ×œ×™×¦×•×¨ ×“×¤×™× ×—×“×©×™×
- âœ… ×œ×”×•×¡×™×£ ×¤×™×¦'×¨×™× ×‘×¡×™×¡×™×™×
- âœ… ×œ×ª×§×Ÿ ×‘××’×™× ×¤×©×•×˜×™×
- âœ… ×œ× ×”×œ ××ª ×”××¢×¨×›×ª ×‘×¢×¦××š!

**×‘×”×¦×œ×—×”! ğŸš€**

---

*× ×›×ª×‘ ×¢×‘×•×¨ ××¤×ª×—×™ PHP ×©××¢×•× ×™×™× ×™× ×œ×”×‘×™×Ÿ Next.js*
*×ª××¨×™×š ×¢×“×›×•×Ÿ: 2024*
